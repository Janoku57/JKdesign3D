<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JKDesign3D - 3D Tlač a CAD Projekty</title>
  <meta name="description" content="Portfólio JKDesign3D - ukážka 3D tlače, CAD projektov a kontakt na služby.">
  <meta name="author" content="JKDesign3D">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Roboto', sans-serif; margin: 0; padding: 0; background: #f5f5f5; }
    header { background: #222; color: white; text-align: center; padding: 25px 20px; }
    header h1 { margin: 0; font-weight: 700; font-size: 2rem; animation: fadeInDown 1s; }
    header p { margin: 5px 0 0 0; font-size: 1rem; animation: fadeIn 2s; }

    /* Hlavná galéria */
    .gallery { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; padding: 30px; }
    .gallery img { width: 250px; height: auto; cursor: pointer; border-radius: 10px; 
                   transition: transform 0.4s ease, box-shadow 0.4s ease; }
    .gallery img:hover { transform: scale(1.05); box-shadow: 0 10px 20px rgba(0,0,0,0.4); }

    /* Lightbox */
    .lightbox { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
                background: rgba(0,0,0,0.95); justify-content: center; align-items: center; flex-direction: column; z-index:1000; animation: fadeIn 0.5s; }
    .lightbox-content { max-width: 80%; max-height: 70vh; border-radius: 10px; transition: transform 0.4s ease; }
    .close { position: absolute; top: 20px; right: 30px; color: white; font-size: 40px; cursor: pointer; transition: color 0.3s; }
    .close:hover { color: #ff5555; }
    .arrow { position: absolute; top: 50%; transform: translateY(-50%); font-size: 50px; color: white; cursor: pointer; user-select: none; transition: color 0.3s; }
    .arrow:hover { color: #ffdd55; }
    .left { left: 50px; }
    .right { right: 50px; }

    /* Carousel miniatur */
    .thumbnail-container { position: relative; width: 80%; margin-top: 20px; overflow: hidden; }
    .thumbnails { display: flex; gap: 10px; transition: transform 0.3s ease; }
    .thumbnails img { width: 80px; height: auto; cursor: pointer; opacity: 0.6; border-radius: 5px; transition: 0.3s; flex-shrink: 0; }
    .thumbnails img:hover, .thumbnails img.active { opacity: 1; transform: scale(1.1); }

    /* Šípky pre carousel */
    .thumb-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      font-size: 30px;
      color: white;
      background: rgba(0,0,0,0.5);
      border-radius: 50%;
      padding: 5px 10px;
      cursor: pointer;
      user-select: none;
      transition: background 0.3s;
    }
    .thumb-arrow:hover { background: rgba(255,255,255,0.3); }
    .thumb-left { left: -40px; }
    .thumb-right { right: -40px; }

    /* Footer / kontakt */
    footer { text-align: center; padding: 20px; background: #222; color: #fff; font-size: 0.9rem; }
    footer a { color: #ffdd55; text-decoration: none; }
    footer a:hover { text-decoration: underline; }

    /* Animácie */
    @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
    @keyframes fadeInDown { from {opacity:0; transform: translateY(-30px);} to {opacity:1; transform: translateY(0);} }
  </style>
</head>
<body>

<header>
  <h1>JKDesign3D</h1>
  <p>3D tlač | CAD projekty | <a href="mailto:jannkuchar@gmail.com">jannkuchar@gmail.com</a> | +421 949 233 088</p>
</header>

<section class="gallery">
  <!-- Projekty -->
  <img src="assets/projekt1/main.jpg" data-project="projekt1" alt="Projekt 1">
  <img src="assets/projekt2/main.jpg" data-project="projekt2" alt="Projekt 2">
  <img src="assets/projekt3/main.jpg" data-project="projekt3" alt="Projekt 3">
</section>

<!-- Lightbox -->
<div class="lightbox" id="lightbox">
  <span class="close" id="closeBtn">&times;</span>
  <span class="arrow left" id="prev">&#10094;</span>
  <img class="lightbox-content" id="lightbox-img">
  <span class="arrow right" id="next">&#10095;</span>

  <!-- Carousel miniatur -->
  <div class="thumbnail-container">
    <span class="thumb-arrow thumb-left" id="thumbPrev">&#10094;</span>
    <div class="thumbnails" id="thumbnails"></div>
    <span class="thumb-arrow thumb-right" id="thumbNext">&#10095;</span>
  </div>
</div>

<footer>
  &copy; 2025 JKDesign3D | Kontakt: <a href="mailto:jannkuchar@gmail.com">jannkuchar@gmail.com</a> | Tel: +421 949 233 088 | <a href="https://www.facebook.com/JKdesign3D" target="_blank">Facebook</a>
</footer>

<script>
  const projects = {
    projekt1: ["assets/projekt1/main.jpg", "assets/projekt1/2.jpg", "assets/projekt1/3.jpg", "assets/projekt1/4.jpg"],
    projekt2: ["assets/projekt2/main.jpg", "assets/projekt2/2.jpg", "assets/projekt2/3.jpg"],
    projekt3: ["assets/projekt3/main.jpg", "assets/projekt3/2.jpg", "assets/projekt3/3.jpg"]
  };

  const galleryImages = document.querySelectorAll(".gallery img");
  const lightbox = document.getElementById("lightbox");
  const lightboxImg = document.getElementById("lightbox-img");
  const thumbnails = document.getElementById("thumbnails");
  const closeBtn = document.getElementById("closeBtn");
  const prev = document.getElementById("prev");
  const next = document.getElementById("next");
  const thumbPrev = document.getElementById("thumbPrev");
  const thumbNext = document.getElementById("thumbNext");

  let currentProject = null;
  let currentIndex = 0;

  function showImage(index) {
    currentIndex = index;
    lightboxImg.src = projects[currentProject][currentIndex];
    updateThumbnails();
    scrollToActive();
  }

  function updateThumbnails() {
    thumbnails.innerHTML = "";
    projects[currentProject].forEach((src, i) => {
      const thumb = document.createElement("img");
      thumb.src = src;
      if (i === currentIndex) thumb.classList.add("active");
      thumb.addEventListener("click", () => showImage(i));
      thumbnails.appendChild(thumb);
    });
  }

  function scrollToActive() {
    const activeThumb = thumbnails.querySelector(".active");
    if (!activeThumb) return;
    const container = thumbnails.parentElement;
    const containerCenter = container.offsetWidth / 2;
    const activeCenter = activeThumb.offsetLeft + activeThumb.offsetWidth / 2;
    const scrollPos = activeCenter - containerCenter;
    thumbnails.style.transform = `translateX(${-scrollPos}px)`;
  }

  galleryImages.forEach(img => {
    img.addEventListener("click", () => {
      currentProject = img.dataset.project;
      showImage(0);
      lightbox.style.display = "flex";
    });
  });

  closeBtn.addEventListener("click", () => {
    lightbox.style.display = "none";
    thumbnails.style.transform = "translateX(0)";
  });

  prev.addEventListener("click", () => {
    currentIndex = (currentIndex - 1 + projects[currentProject].length) % projects[currentProject].length;
    showImage(currentIndex);
  });

  next.addEventListener("click", () => {
    currentIndex = (currentIndex + 1) % projects[currentProject].length;
    showImage(currentIndex);
  });

  thumbPrev.addEventListener("click", () => {
    thumbnails.scrollBy({ left: -100, behavior: "smooth" });
  });

  thumbNext.addEventListener("click", () => {
    thumbnails.scrollBy({ left: 100, behavior: "smooth" });
  });

  // Ovládanie klávesnicou
  document.addEventListener("keydown", (e) => {
    if (lightbox.style.display !== "flex") return;

    switch(e.key) {
      case "ArrowLeft":
        currentIndex = (currentIndex - 1 + projects[currentProject].length) % projects[currentProject].length;
        showImage(currentIndex);
        break;
      case "ArrowRight":
        currentIndex = (currentIndex + 1) % projects[currentProject].length;
        showImage(currentIndex);
        break;
      case "Escape":
        lightbox.style.display = "none";
        thumbnails.style.transform = "translateX(0)";
        break;
    }
  });
</script>

</body>
</html>
