<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JK design 3D ‚Äì Portf√≥lio</title>
  <style>
    body {
      margin: 0;
      font-family: "Poppins", sans-serif;
      transition: background 0.3s, color 0.3s;
    }

    /* Predvolen√Ω tmav√Ω re≈æim */
    body.dark-mode {
      background: #121212;
      color: #eee;
    }
    body.light-mode {
      background: #f9f9f9;
      color: #222;
    }

    header {
      position: relative;
      background: linear-gradient(to right, #0d0d0d, #222);
      color: #fff;
      text-align: center;
      padding: 4rem 2rem;
      overflow: hidden;
    }
    header h1 {
      font-size: 3rem;
      margin: 0;
      animation: fadeSlide 1s ease forwards;
    }
    header p {
      margin: 0.5rem 0 0;
      font-size: 1.2rem;
      opacity: 0.85;
    }

    /* Prep√≠naƒç re≈æimu */
    .theme-toggle {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: #ffdd55;
      border: none;
      border-radius: 20px;
      padding: 0.5rem 1rem;
      cursor: pointer;
      font-weight: bold;
    }

    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1rem;
      padding: 2rem;
    }
    .gallery img {
      width: 100%;
      border-radius: 12px;
      cursor: pointer;
      transition: transform 0.3s, box-shadow 0.3s;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    }
    .gallery img:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 16px rgba(0,0,0,0.5);
    }

    .lightbox {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      flex-direction: column;
    }
    .lightbox-content {
      max-width: 80%;
      max-height: 70vh;
      border-radius: 12px;
      transition: transform 0.5s ease, opacity 0.5s ease;
      opacity: 0;
      transform: scale(0.95);
    }
    .lightbox.show img.lightbox-content {
      opacity: 1;
      transform: scale(1);
    }
    .close, .prev, .next {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      font-size: 2rem;
      color: #fff;
      cursor: pointer;
      user-select: none;
      padding: 0.5rem;
      background: rgba(0,0,0,0.5);
      border-radius: 50%;
    }
    .close { top: 5%; right: 5%; transform: none; }
    .prev { left: 5%; }
    .next { right: 5%; }

    .thumbnails {
      display: flex;
      gap: 0.5rem;
      overflow-x: auto;
      margin-top: 1rem;
      max-width: 90%;
      padding-bottom: 0.5rem;
    }
    .thumbnails img {
      height: 60px;
      cursor: pointer;
      opacity: 0.6;
      border-radius: 6px;
      transition: opacity 0.3s, transform 0.3s;
    }
    .thumbnails img.active {
      opacity: 1;
      transform: scale(1.1);
      border: 2px solid #ffdd55;
    }

    footer {
      text-align: center;
      padding: 2rem;
      background: #111;
      color: #ccc;
      font-size: 0.9rem;
    }
    footer a { color: #ffdd55; text-decoration: none; }
    footer a:hover { text-decoration: underline; }

    @keyframes fadeSlide {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body class="dark-mode">

  <header>
    <button class="theme-toggle">‚òÄÔ∏è Svetl√Ω re≈æim</button>
    <h1>JK design 3D</h1>
    <p>Zak√°zkov√° 3D tlaƒç & kreat√≠vny dizajn</p>
  </header>

  <section class="gallery">
    <img src="project1/img1.jpg" alt="Projekt 1" data-project="project1">
    <img src="project2/img1.jpg" alt="Projekt 2" data-project="project2">
    <img src="project3/img1.jpg" alt="Projekt 3" data-project="project3">
  </section>

  <div class="lightbox" id="lightbox">
    <span class="close">&times;</span>
    <span class="prev">&#10094;</span>
    <img class="lightbox-content" id="lightbox-img">
    <span class="next">&#10095;</span>
    <div class="thumbnails" id="thumbnails"></div>
  </div>

  <footer>
    <p>Kontakt: <a href="mailto:jannkuchar@gmail.com">jannkuchar@gmail.com</a> | Tel: <a href="tel:+421949233088">+421 949 233 088</a></p>
    <p>&copy; 2025 JK design 3D</p>
  </footer>

<script>
const projects = {
  project1: ["project1/img1.jpg","project1/img2.jpg","project1/img3.jpg"],
  project2: ["project2/img1.jpg","project2/img2.jpg","project2/img3.jpg"],
  project3: ["project3/img1.jpg","project3/img2.jpg","project3/img3.jpg"]
};

const galleryImages = document.querySelectorAll(".gallery img");
const lightbox = document.getElementById("lightbox");
const lightboxImg = document.getElementById("lightbox-img");
const thumbnails = document.getElementById("thumbnails");
const closeBtn = document.querySelector(".close");
const prevBtn = document.querySelector(".prev");
const nextBtn = document.querySelector(".next");

let currentProject = null;
let currentIndex = 0;

function updateThumbnails() {
  thumbnails.innerHTML = "";
  projects[currentProject].forEach((src, i) => {
    const thumb = document.createElement("img");
    thumb.src = src;
    if(i===currentIndex) thumb.classList.add("active");
    thumb.addEventListener("click",()=>{ showImage(i); });
    thumbnails.appendChild(thumb);
  });
}

function showImage(index){
  currentIndex = index;
  lightbox.classList.add("show");
  lightboxImg.style.opacity = 0;
  lightboxImg.style.transform = "scale(0.95)";

  setTimeout(() => {
    lightboxImg.src = projects[currentProject][currentIndex];
    lightboxImg.style.opacity = 1;
    lightboxImg.style.transform = "scale(1)";
  }, 50);

  updateThumbnails();
}

galleryImages.forEach(img=>{
  img.addEventListener("click",()=>{
    currentProject = img.dataset.project;
    lightbox.style.display = "flex";
    showImage(0);
  });
});

closeBtn.addEventListener("click",()=>{
  lightbox.classList.remove("show");
  setTimeout(()=>{ lightbox.style.display="none"; }, 400);
});

prevBtn.addEventListener("click",()=>{
  currentIndex = (currentIndex-1+projects[currentProject].length)%projects[currentProject].length;
  showImage(currentIndex);
});
nextBtn.addEventListener("click",()=>{
  currentIndex = (currentIndex+1)%projects[currentProject].length;
  showImage(currentIndex);
});

document.addEventListener("keydown",(e)=>{
  if(lightbox.style.display!=="flex") return;
  switch(e.key){
    case "ArrowLeft": prevBtn.click(); break;
    case "ArrowRight": nextBtn.click(); break;
    case "Escape": closeBtn.click(); break;
  }
});

/* Prep√≠naƒç tmav√©ho/svetl√©ho re≈æimu */
const themeToggle = document.querySelector(".theme-toggle");
themeToggle.addEventListener("click", () => {
  if (document.body.classList.contains("dark-mode")) {
    document.body.classList.remove("dark-mode");
    document.body.classList.add("light-mode");
    themeToggle.textContent = "üåô Tmav√Ω re≈æim";
    localStorage.setItem("theme", "light");
  } else {
    document.body.classList.remove("light-mode");
    document.body.classList.add("dark-mode");
    themeToggle.textContent = "‚òÄÔ∏è Svetl√Ω re≈æim";
    localStorage.setItem("theme", "dark");
  }
});

// Naƒç√≠tanie preferencie z localStorage
window.addEventListener("load", () => {
  const savedTheme = localStorage.getItem("theme") || "dark";
  document.body.classList.remove("dark-mode","light-mode");
  document.body.classList.add(savedTheme+"-mode");
  themeToggle.textContent = savedTheme === "dark" ? "‚òÄÔ∏è Svetl√Ω re≈æim" : "üåô Tmav√Ω re≈æim";
});
</script>

</body>
</html>
